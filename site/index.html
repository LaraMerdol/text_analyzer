<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Text Analyzer</title>
  
    <link rel="stylesheet" href="App.css">



  </head>
<body>
  <header>

           
           
           
        

      <textarea type="text"  id="review" onchange="handleChange()"> Type something..  mock.</textarea> 


      <label for="review"><input type="submit" value="Analyze" />  </div> </label>
      <div id = "time"> Reading Time : <span id= "readTime"> </span> </div>
      <ul>
         <li>
              Letter Count
              <div id = "size1"></div>
          </li>
         <li>
            Word Count


              <div id= "wordCount" ></div>
        </li>
         <li>
              Average Word Length


            <div id ="average"> </div>
          </li>                  
         <li>
              Longest Word


            <div id ="word"> </div>
          </li>
         <li>
              Median Word Size


            <div id ="median"> </div>
          </li> 
         <li>
              Median Word


            <div id ="medianW"> </div>
          </li> 
      </ul>




  </header>
      <script>
        
        function handleChange() {
          var text =document.getElementById("review");
          var text1 = text.value;
          
          text1 = text1.replace(/[^A-Za-z0-9-]/g, "");
          var lengthText = text1.length
          document.getElementById("size1").innerHTML= text1.length;
          text1 = text.value.replace(/[^A-Za-z0-9-]/g, "*");
          const arr2= text1.split("*");
          const arr3 =[];
          const arr4 =[];

          var wordCount1 = 0;
          for (var i = 0; i<arr2.length; i ++) {
            var worD = arr2[i];
            if(worD.length >=1){
              console.log(worD);
              arr4.push(arr2[i]);

              arr3.push(worD.length);
              console.log(worD.length);
              wordCount1++;
            }
          }

          document.getElementById("wordCount").innerHTML= wordCount1;

          document.getElementById("average").innerHTML= parseInt(lengthText/wordCount1);
          const strings = text1.split("*");
          var max = "";
          for(var i = 0;i<strings.length;i++){
            if(strings[i].length>max.length){
              max = strings[i];
            }

          }
          document.getElementById("word").innerHTML= max;
          arr3.sort(function(a, b){return a-b});
          arr4.sort(function(a, b) {return a.length - b.length || a.localeCompare(b);});
          document.getElementById("median").innerHTML= arr3[parseInt(arr3.length/2)];
          document.getElementById("medianW").innerHTML= arr4[parseInt(arr4.length/2)];

          function readingTime(textQ) {
            const wordsPerSec = 3;
            const noOfWords = textQ.split(/\s/g).length;
            const minutes = noOfWords / wordsPerSec;
            const readTime = Math.ceil(minutes);
            return `${readTime} second read`
          }
          var readTime1 = readingTime(text.value);
          document.getElementById("readTime").innerHTML= readTime1;
          console.log(text.value.split(/\s/g).length);
          console.log(readTime1);
       }





      </script>  
</body>
</html>
